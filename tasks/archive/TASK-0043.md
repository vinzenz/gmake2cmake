<task id="TASK-0043">
<summary>Centralize and validate diagnostic codes.</summary>
<scope>
- Create a registry/enum of diagnostic codes to avoid scattered string literals.
- Update diagnostic emission sites to use the registry and optionally validate codes on add().</scope>
<developer>
- Add `gmake2cmake/diagnostic_codes.py` (Enum + helper) and refactor `diagnostics.add` to accept/validate codes.
- Replace inline string codes across modules with references to the registry; keep console/report output stable.</developer>
<qe>
- Add tests confirming invalid codes are rejected or normalized, and that existing diagnostics still serialize correctly.</qe>
<reviewer>
- Check for deterministic ordering and no regressions in diagnostic content/IDs.</reviewer>
<tests>
- Commands: `ruff check . && pytest -q tests/test_diagnostics.py tests/test_cli.py`.</tests>
</task>
