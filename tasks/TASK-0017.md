<task id="TASK-0017">
<summary>Honor target mapping link libs and usage visibility.</summary>
<scope>
- Extend Target modeling to carry usage scope/visibility instead of relying on type-based defaults.
- Apply `ConfigModel.target_mappings.link_libs` and `visibility` when building targets and propagate to emitter link/usage clauses.
- Keep alias resolution and dependency wiring consistent when custom visibility is specified.</scope>
<developer>
- Update IR builder Target dataclass and target construction to merge mapped link libs and chosen visibility; adjust emitter to consume per-target scope rather than `_usage_scope` heuristics.
- Add sensible defaults for existing types to avoid breaking current behavior while enabling overrides.</developer>
<qe>
- Add unit tests in `tests/ir/test_ir_builder.py` and `tests/emitter/test_emitter.py` verifying link_lib mappings appear with requested visibility and alias resolution is deterministic.</qe>
<reviewer>
- Ensure dependency alias logic and interface/imported special cases remain correct; validate deterministic ordering of emitted link items.</reviewer>
<tests>
- Commands: `pytest -q tests/ir/test_ir_builder.py tests/emitter/test_emitter.py`.</tests>
</task>
