<task id="TASK-0020">
<summary>Implement caching layer for MakeEvaluator performance.</summary>
<scope>
- Add caching module `gmake2cmake.cache` with LRU cache for expensive evaluations.
- Cache variable expansions, function evaluations, and compile inference results.
- Support configurable cache size and TTL via ConfigModel.
- Integrate with MakeEvaluator without breaking deterministic behavior.
- Add cache statistics and diagnostics for debugging.</scope>
<developer>
- Implement thread-safe LRU cache with size/TTL limits.
- Create cache keys that include full context (env state, location).
- Hook into expand_variables and infer_compiles with cache checks.
- Add cache_enabled flag to ConfigModel with sensible defaults.
- Ensure cache doesn't affect deterministic output ordering.</developer>
<qe>
- Benchmark performance improvements on large projects.
- Verify cache hits/misses via diagnostic reporting.
- Test deterministic output with cache enabled/disabled.
- Validate memory usage stays within configured limits.</qe>
<reviewer>
- Check cache invalidation logic for correctness.
- Verify no side effects leak through cached values.
- Ensure debugging/troubleshooting not hindered by caching.
- Validate thread safety if multiprocessing enabled.</reviewer>
<tests>
- Commands: `pytest -q tests/test_cache.py tests/test_evaluator_with_cache.py --benchmark`.</tests>
</task>