<task id="TASK-0015">
<summary>Fix -include handling in Makefile discovery.</summary>
<scope>
- Recognize `-include` statements in `gmake2cmake.make.discovery.scan_includes` so optional includes participate in the include graph.
- Track optional edges to avoid `DISCOVERY_READ_FAIL` errors when optional includes are missing; emit only WARN for missing optional includes and keep traversal deterministic.
- Preserve ordering for mixed include/subdir edges when collecting contents.</scope>
<developer>
- Adjust include detection gating so `-include` lines are parsed; record optional metadata and skip read attempts for known-missing optional files.
- Extend traversal logic/tests to cover optional missing vs mandatory missing behavior without duplicate diagnostics.</developer>
<qe>
- Add tests under `tests/test_discovery.py` verifying `-include` lines raise WARN only, do not trigger read errors, and collection order stays stable with subdir edges.</qe>
<reviewer>
- Confirm cycle detection and existing include handling remain intact; check diagnostics severities match the spec.</reviewer>
<tests>
- Commands: `pytest -q tests/test_discovery.py`.</tests>
</task>
