<task id="TASK-0047">
<summary>Optimize repeated set merges in build_targets.</summary>
<scope>
- Reduce repeated set/sort work in `gmake2cmake/ir/builder.py` when merging includes/defines/options inside loops.
- Cache target mapping data to avoid recomputation per target.</scope>
<developer>
- Introduce helper to merge/dedupe lists once per target; precompute mapping-derived sets before loops.
- Keep output ordering deterministic and behavior unchanged.</developer>
<qe>
- Add performance-oriented test or assertion on deterministic ordering in `tests/ir/test_ir_builder.py`; consider micro-benchmark guard if feasible.</qe>
<reviewer>
- Verify readability and no regression in flag/include propagation.</reviewer>
<tests>
- Commands: `ruff check gmake2cmake/ir/builder.py && pytest -q tests/ir/test_ir_builder.py`.</tests>
</task>
