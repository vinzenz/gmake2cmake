<task id="TASK-0050">
<summary>Add validation to core dataclasses.</summary>
<scope>
- Introduce lightweight validation for dataclasses (ConfigModel, TargetMapping, CLIArgs, Diagnostic, UnknownConstruct, IR entities) to prevent invalid states.
- Consider built-in `__post_init__` guards or a small validation helper; avoid heavy dependencies unless justified.</scope>
<developer>
- Implement validation (e.g., non-empty names, allowed enums for types/visibility/severity) using `__post_init__` or a shared validator module.
- If adopting Pydantic or similar, isolate it behind optional dependency; otherwise stick to stdlib validation.</developer>
<qe>
- Add tests covering invalid inputs raising/diagnosing appropriately across config, CLI args, unknown constructs, and IR targets.</qe>
<reviewer>
- Ensure validations remain fast, deterministic, and do not break existing tests; avoid over-restricting legitimate values.</reviewer>
<tests>
- Commands: `ruff check . && pytest -q tests/test_config_manager.py tests/test_cli.py tests/ir/test_ir_builder.py`.</tests>
</task>
